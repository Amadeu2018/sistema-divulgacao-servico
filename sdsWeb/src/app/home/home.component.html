<mat-toolbar>
  <div class="search-container">
    <mat-icon>view_agenda</mat-icon>
    <h1 class="toolbar-title">{{ content }}</h1>
<!--    <div>-->
<!--      <h6 class="text-muted py-5">{{ content }}</h6>-->
<!--    </div>-->
  </div>

</mat-toolbar>

<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon>list</mat-icon>
      Solicitar serviço
    </ng-template>
    <mat-card>
      <form [formGroup]="solicitationForm" (ngSubmit)="onSubmit(solicitationForm.value)">

      <table mat-table [dataSource]="services" class="full-width">

        <ng-container matColumnDef="images">
          <th mat-header-cell *matHeaderCellDef>Imagem</th>
          <td mat-cell *matCellDef="let row">
            <div *ngIf="row.images">
              <img class="foto" alt="img" mat-card-image [src]="'data:image/jpg;base64,' + row.images"/>
            </div>
            <div *ngIf="!row.images">
              <input type="file" name="images"/>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let row">{{ row.id }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Nome</th>
          <td mat-cell *matCellDef="let row">{{ row.name }}</td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef>Descrição</th>
          <td mat-cell *matCellDef="let row">{{ row.description }}</td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Preço</th>
          <td mat-cell *matCellDef="let row">{{ row.price }}</td>
        </ng-container>

        <ng-container matColumnDef="solicitation">
          <th mat-header-cell *matHeaderCellDef>Solicitar</th>
          <td mat-cell *matCellDef="let row">
            <button class="solicitation" mat-raised-button (click)="onSubmit(row)" [style.background-color]="row.buttonProperties?.color"
                    [disabled]="isServiceSolicited(row)">
              {{ isServiceSolicited(row) ? 'Solicitado' : 'Solicitar' }}
            </button>
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      </form>

      <mat-paginator
        [length]="totalElements"
        [pageSize]="pageNumber"
        [pageSizeOptions]="pageSizeOptions"
        (page)="paging($event)"
      ></mat-paginator>

    </mat-card>
  </mat-tab>
</mat-tab-group>

